@if (showModal) {
    <div class="modal-container">
        <div class="overlay" (click)="close()"></div>
        <form #taskForm="ngForm" (ngSubmit)="save()" class="modal modal-lg">
            <header class="modal-header">
                <div class="flex align-items-center gap-3">
                    <div class="modal-icon">
                        <i class="material-symbols-rounded">list_alt</i>
                    </div>

                    <strong class="text-lg">
                        {{ edit ? 'Edit task' : 'New task' }}
                    </strong>
                </div>

                <button class="btn-icon btn-text" type="button" ripple (click)="close()">
                    <i class="material-symbols-rounded">close</i>
                </button>
            </header>

            <div class="modal-body">
                <div class="form-control">
                    <label for="name">
                        Title
                    </label>
                    <input type="text" id="name" name="name" [(ngModel)]="task.name" required/>
                    <div class="input-bar"></div>
                </div>
                <div class="form-control">
                    <label for="description">
                        Description
                    </label>
                    <textarea type="text" style="min-height: 150px" id="description" name="description"
                              [(ngModel)]="task.description"></textarea>
                </div>

                <div class="flex align-items-start gap-3">
                    <div class="form-control">
                        <label for="dueDate">
                            Due date
                        </label>

                        <input type="date" id="dueDate" name="dueDate"
                               [(ngModel)]="task.dueDate" required/>
                        <div class="input-bar"></div>
                    </div>
                    <div class="form-control">
                        <label for="dueDate">
                            Status
                        </label>

                        <app-dropdown [items]="statusOptions" label="Sort by" [value]="task.status"
                                      (onChange)="task.status = $event;"></app-dropdown>
                    </div>
                </div>

            </div>

            <footer class="modal-footer">
                <button class="btn btn-outlined" type="button" ripple (click)="close()">
                    <i class="material-symbols-rounded">close</i>
                    Cancel
                </button>
                <button type="submit" class="btn btn-filled" ripple [disabled]="!taskForm.form.valid">
                    <i class="material-symbols-rounded">save</i>
                    {{ edit ? 'Save changes' : 'Create task' }}
                </button>
            </footer>
        </form>
    </div>
}
